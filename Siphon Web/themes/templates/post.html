{% load static%}


<html>

    <head>
        <link rel="stylesheet" href="{% static 'themes/style.css' %}">
    </head>

    <body>

        <div class="header" >
            
        </div>
        <div class=container>
            <div class="blob"> 

                <div class="nav" >
                    <h3 id="contents-header" style="padding-top:50px;">Machine Blog</h3>
                    <ul type=none>
                        <li>
                            <a  href="#sec1"> Home </a>
                        </li>
                        <li>
                            <a  href="#sec2"> Blog </a>
                        </li>
                        <li>
                            <a  href="#sec3"> Contact </a>
                        </li>
                    </ul>
                </div>

                <div class="header-title">

                    <h2 style="color: teal;margin-bottom: 0px; ">Python</h2>
                    <h2 >December 8, 2021</h2>
                </div>
                <h1>List Order in Python Made Easy</h1>
                <h2 style="margin-bottom: 20px">And you don’t need to memorize how binary search works</h2>

                
                <div class=fig>
                    <img role="presentation" src="{% static 'themes/lemons.jpeg' %}">
                    <figcaption>
                        <a style="display: block;" href="{% static 'themes/lemons.jpeg' %}">Figure 1</a>
                        An assortment of lemons
                    </figcaption>
                </div>

                <div class="nav">
                    <h3 id="contents-header" >Contents</h3>
                    <ul type=none>
                        <li>
                            <a  href="#sec1"> Introduction </a>
                        </li>
                        <li>
                            <a  href="#sec2"> Bisect </a>
                        </li>
                        <li>
                            <a  href="#sec3"> Bisect is Fast </a>
                        </li>
                        <li>
                            <a  href="#sec4"> Conclusion </a>
                        </li>
                    </ul>
                </div>
                
                <h3 style="padding-top: 10px" id="sec1">Introduction</h3>
                <p>I always get anxious when I see a problem that involves a sorted list because I know that it’ll inevitably involve using binary search.</p>
                <p>This fear is completely irrational, and I always kick myself for feeling this way because binary search is beautiful. Given a sorted list you can find the index of any value in log(N) time because you get to cut your search space in half with every lookup.</p>
                
                <div class=fig>
                    <img role="presentation" src="{% static 'themes/image.png' %}">
                    <figcaption>
                        <a style="display: block;" href="{% static 'themes/image.png' %}">Figure 2</a>
                        Binary search algorithm
                    </figcaption>
                </div>


                <p>Precisely this operation allows sorted lists to be very space and time efficient at solving problems requiring lookups as well as determining how many entries are greater or less than your target.</p>
                <p>Now if you want to take advantage of your sorted lists you may be tempted to write your own binary search and insert functions like I’ve been doing so far and inevitably it takes a few tries to actually get it working right. Thankfully there’s a built in library that already does the same thing, in a single line and a lot faster too.</p>
                
            
                <h3 id="sec2">Bisect</h3>
                <p>The bisect library is a tiny one, but it does two things and it does them well; <b>search</b> and <b>insert</b>.</p>
                <p>For search we have bisect_left and bisect_right which perform binary search to find where to insert a value right before our target on either the left or right. In the case of bisect_right it will overshoot by one index to show you where you should insert your new value to maintain order.</p>
                <p>list: [1,2,3,4,5], target = 4</p>
            
                <div class=close>
                <p>bisect_left: [1,2,3, _ , 4,5] index= 3</p>
                <p>bisect_right: [1,2,3,4, _ ,5] index= 3+1</p>
                </div>


                <p>For insertion we have insort_left and insort_right which perform binary insert to actually insert our value on either the left or the right of our target and manipulates our list inplace.</p>
                

                <div class=close>
                <p>insort_left: [1,2,3, 4 ,4,5] inserted index= 3</p>
                <p>insort_right: [1,2,3,4, 4 ,5] inserted index= 3+1</p>
                </div>

                <p>Apart from bisect and insort which are equivalent in function to bisect_right and insort_right respectivly, these are the only functions available in this library. However they completely replace the need to write your own functions for lookups and inserts.</p>
                
                <h3 id="sec3">Bisect is Fast</h3>
            
                <p>Here is my basic implementation of binary search</p>

                <script src="https://gist.github.com/muratovm/8bdf4f7b1f06b38c87f9bae656c78ec7.js"></script>

                <p>And here’s a binary race between it and bisect. We’ll be looking for value 0 because ironically it will take the longest to find with binary search since 0 is never in the middle of anything.</p>
                
                <script src="https://gist.github.com/muratovm/3c00a4a7ba39819e5d29f22156f28f77.js"></script>

                <div class=close>
                <p>search found 0 at index 0 in 1.6927719116210938e-05 seconds</p>
                <p>bisect found 0 at index 0 in 2.6226043701171875e-06 seconds</p>
                </div>

                <p>Here we can see that bisect is 6 times faster than my implementation</p>
            

                <p>Because bisect is implemented in C it is much faster, though both functions use the exact same algorithm. Python is just a lot slower at adding numbers than C because all numbers in Python are actually Integer classes which in turn take time to call their addition functions whereas in C integers are just 4 byte data types and are processed very efficiently by the CPU. The difference in time can start to compound into a tangible boost in performance when you start doing many lookups or insertions sequentially.</p>

                <h3 id="sec4">Conclusion</h3>

                <p>Bisect is a small but useful library that helps maintain sorted order in lists as well as providing lookups in a quick and efficient way. Knowing about its existence can save on both implementation and runtime and it is an indespensible tool for many coding interviews where questions about sorted lists tend to crop up from time to time.</p>

            </div>

        </div>
    </body>
    
</html>